---
import Site from "../layouts/Site.astro";
---

<Site title="Action Resources">
  <section class="banner-area">
    <div class="container">
      <h1 class="heading-two text-white">Action Resources</h1>
      <p class="section-content text-white">
        Resources for staying up to date on climate policy and taking action.
      </p>
    </div>

    <div class="banner-img-wrap">
      <img
        src="/assets/img/action_resources.png"
        loading="lazy"
        alt="Action resources banner"
        class="banner-img"
      />
    </div>
  </section>

  {/* Use an existing padded section style for consistency */}
  <section class="service-area">
    <div class="container">

      {/* Tabs: reuse existing pill styles (tag-link + w--current) */}
      <div class="blog-tab-menu" data-resource-tabs>
        <button class="tag-link w--current js-resource-tab" type="button" data-topic="all" aria-pressed="true">
          All
        </button>
        <button class="tag-link js-resource-tab" type="button" data-topic="action" aria-pressed="false">
          Action
        </button>
        <button class="tag-link js-resource-tab" type="button" data-topic="news" aria-pressed="false">
          News
        </button>
        <button class="tag-link js-resource-tab" type="button" data-topic="policy" aria-pressed="false">
          Policy
        </button>
      </div>

      {/* Grid: reuse an existing 3-col grid pattern; your cards handle their own look */}
      <div class="blog-coll-related">
        <a
          href="https://agu.quorum.us/home/"
          target="_blank"
          rel="noopener"
          class="solution-card resource-card resource-card--teal js-resource-card"
          data-topics="action policy"
        >
          <h3 class="resource-card__title">AGU Policy Action Center</h3>
          <p class="resource-card__desc">
            Resources to contact your representatives about climate policy and stay up to date on current issues.
          </p>
        </a>

        <a
          href="https://www.ucs.org/"
          target="_blank"
          rel="noopener"
          class="solution-card resource-card resource-card--brown js-resource-card"
          data-topics="action news policy"
        >
          <h3 class="resource-card__title">Union of Concerned Scientists</h3>
          <p class="resource-card__desc">Info, resources, and news on climate policy and more.</p>
        </a>

        <a
          href="https://www.aps.org/publications/apsnews/policy"
          target="_blank"
          rel="noopener"
          class="solution-card resource-card resource-card--purple js-resource-card"
          data-topics="news policy"
        >
          <h3 class="resource-card__title">APS Policy News</h3>
          <p class="resource-card__desc">
            News on how federal decisions impact higher education and scientific research.
          </p>
        </a>

        <a
          href="https://www.climatepolicydashboard.org/states/"
          target="_blank"
          rel="noopener"
          class="solution-card resource-card resource-card--blue js-resource-card"
          data-topics="action policy"
        >
          <h3 class="resource-card__title">Climate Policy Dashboard</h3>
          <p class="resource-card__desc">Database and comparison tool for climate policy by state.</p>
        </a>

        <a
          href="https://www.lcv.org/congressional-scorecard/"
          target="_blank"
          rel="noopener"
          class="solution-card resource-card resource-card--green js-resource-card"
          data-topics="action policy"
        >
          <h3 class="resource-card__title">Congressional Environmental Scorecards</h3>
          <p class="resource-card__desc">Database of environmental policy decisions by members of Congress.</p>
        </a>

        {/* Add more cards here */}
      </div>
    </div>
  </section>

  <script>
    const tabs = Array.from(document.querySelectorAll(".js-resource-tab"));
    const cards = Array.from(document.querySelectorAll(".js-resource-card"));

    function setActiveTab(activeTopic) {
      tabs.forEach((btn) => {
        const isActive = btn.dataset.topic === activeTopic;
        btn.classList.toggle("w--current", isActive);
        btn.setAttribute("aria-pressed", String(isActive));
      });

      cards.forEach((card) => {
        const topics = (card.dataset.topics || "")
          .split(/\s+/)
          .map((t) => t.trim())
          .filter(Boolean);

        const shouldShow = activeTopic === "all" || topics.includes(activeTopic);

        // Reuse existing global "display:none !important" class
        card.classList.toggle("w-condition-invisible", !shouldShow);
      });
    }

    tabs.forEach((btn) => {
      btn.addEventListener("click", () => setActiveTab(btn.dataset.topic));
    });

    // Ensure a clean initial state (matches the "All" default)
    setActiveTab("all");
  </script>
</Site>
