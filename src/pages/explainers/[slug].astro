---
import Base from "../../layouts/Base.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { getCollection, getEntryBySlug } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection("explainers");
  return posts.map(p => ({ params: { slug: p.slug }, props: { post: p } }));
}
const { post } = Astro.props;
---
<Base title={post.data.title} description={post.data.summary}>
  <Header />
  <article class="px-6 py-12 max-w-3xl mx-auto prose">
    <h1>{post.data.title}</h1>
    <Fragment set:html={post.body} />
  </article>
  <Footer />
</Base>
